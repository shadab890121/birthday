<!--
Happy Birthday Teddy Website
Single-file HTML you can open in Chrome. Save as `birthday_teddy.html` and open in browser.
Features:
- Cute SVG teddy bear walks in and offers a handshake.
- Click the bear's paw or "Shake Hand" button to trigger handshake animation.
- When shaken: teddy speaks (speech bubble), plays a short synthesized "Happy Birthday" melody,
  reveals a surprise (confetti + cake + personalized message).
- Responsive and works offline (no external assets).

Edit the `RECIPIENT_NAME` variable to change the name.
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday!</title>
  <style>
    :root{
      --bg1:#fff4f8;
      --bg2:#fff0e6;
      --accent:#ff7aa2;
      --muted:#6b6b6b;
    }
    html,body{height:100%;}
    body{
      margin:0; font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: radial-gradient(circle at 10% 20%, var(--bg1), var(--bg2));
      display:flex; align-items:center; justify-content:center; padding:24px;
    }

    .card{
      width:980px; max-width:98vw; min-height:540px; background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));
      border-radius:20px; box-shadow: 0 20px 50px rgba(19,19,24,0.12); padding:28px; position:relative; overflow:hidden;
      display:grid; grid-template-columns: 1fr 420px; gap:20px; align-items:center;
    }

    .left{
      padding:20px; display:flex; flex-direction:column; gap:18px; align-items:flex-start;
    }
    h1{margin:0; font-size:34px; color:#222;}
    p.lead{margin:0; color:var(--muted);} 

    .controls{display:flex; gap:12px; align-items:center;}
    button{background:linear-gradient(180deg,var(--accent),#ff5f87); border:none; color:white; padding:12px 18px; border-radius:12px; cursor:pointer; font-weight:600; box-shadow:0 8px 18px rgba(255,122,162,0.18);}
    button.secondary{background:transparent; color:var(--accent); border:2px solid rgba(255,122,162,0.12);} 

    .teddy-wrap{
      display:flex; align-items:center; justify-content:center; height:100%; position:relative; padding:10px;
    }

    /* confetti canvas covers card */
    #confetti{ position:absolute; left:0; top:0; width:100%; height:100%; pointer-events:none; }

    /* Speech bubble */
    .bubble{position:absolute; left:48px; top:36px; background:linear-gradient(180deg,#ffffff, #fff8fb); padding:12px 16px; border-radius:16px; box-shadow:0 8px 18px rgba(0,0,0,0.08); display:flex; gap:10px; align-items:center; transform-origin:left top; opacity:0; transition:all 300ms ease;}
    .bubble.show{opacity:1; transform:translateY(0);}    

    .bubble:after{content:''; width:14px; height:14px; background:#fff; position:absolute; left:-6px; top:50%; transform:translateY(-50%) rotate(45deg); box-shadow:0 8px 18px rgba(0,0,0,0.03);}

    .message{font-weight:700; color:#222;}
    .sub{color:var(--muted); font-size:13px}

    /* SVG teddy sizing */
    svg#teddy{ width:100%; max-width:420px; height:auto; }

    /* Walk-in animation */
    .teddy-enter{ transform:translateX(-40px) scale(0.98); opacity:0; animation:teddyEnter 900ms cubic-bezier(.22,.9,.2,1) forwards; }
    @keyframes teddyEnter{ to{ transform:none; opacity:1;} }

    /* Paw shake animation - rotate small */
    .shake-arm{ animation:shakeArm 900ms ease-in-out; }
    @keyframes shakeArm{
      0%{ transform:rotate(0deg);} 20%{ transform:rotate(-28deg);} 40%{ transform:rotate(18deg);} 60%{ transform:rotate(-10deg);} 80%{ transform:rotate(6deg);} 100%{ transform:rotate(0deg);} }

    /* Surprise reveal */
    .surprise{ position:absolute; right:28px; bottom:28px; width:360px; max-width:40%; min-width:220px; background:linear-gradient(180deg,#fff,#fff7fb); padding:16px; border-radius:14px; box-shadow:0 12px 36px rgba(19,19,24,0.08); transform:translateY(26px) scale(0.98); opacity:0; transition:all 360ms cubic-bezier(.2,.9,.25,1);}
    .surprise.show{opacity:1; transform:none;}

    .cake{width:100%; display:flex; gap:12px; align-items:center}
    .cake svg{width:92px;height:92px}

    footer{position:absolute; left:20px; right:20px; bottom:8px; font-size:12px; color:var(--muted); text-align:center}

    /* responsive */
    @media (max-width:820px){
      .card{ grid-template-columns: 1fr; max-width:760px; }
      .surprise{ position:static; transform:none; opacity:1; margin-top:8px;}
      .bubble{ left:18px; }
    }
  </style>
</head>
<body>
  <div class="card" role="main">
    <canvas id="confetti"></canvas>

    <div class="left">
      <div class="bubble" id="bubble" aria-live="polite">
        <div class="message" id="bubbleText">Hi! I'm Teddy üß∏</div>
        <div class="sub">Click my paw to shake!</div>
      </div>

      <h1 id="heading">Happy birthday<span id="namePlace">Friend</span> üéâ</h1>
      <p class="lead">wish you very very happy birthday my dear best friend and may allah bless you this is  a smaall gift for you so i think you will be very happy too see this </p>

      <div class="controls">
        <button id="shakeBtn">ü§ù Shake Hand</button>
        <button class="secondary" id="playSong">üéµ Play Song</button>
        <button class="secondary" id="resetBtn">üîÅ Reset</button>
      </div>

      <div style="margin-top:auto"></div>
    </div>

    <div class="teddy-wrap">
      <!-- Simple teddy SVG with separate paw group that we animate -->
      <svg id="teddy" viewBox="0 0 400 420" xmlns="http://www.w3.org/2000/svg" class="teddy-enter" role="img" aria-label="Cute teddy bear">
        <defs>
          <filter id="soft" x="-20%" y="-20%" width="140%" height="140%"><feGaussianBlur stdDeviation="2.4"/></filter>
        </defs>
        <!-- body -->
        <g transform="translate(0,10)">
          <ellipse cx="200" cy="300" rx="110" ry="82" fill="#f6d8b6" stroke="#e6bfa0" stroke-width="4"/>
          <!-- head -->
          <circle cx="200" cy="180" r="86" fill="#f6d8b6" stroke="#e6bfa0" stroke-width="4"/>
          <!-- ears -->
          <ellipse cx="140" cy="110" rx="28" ry="30" fill="#f6d8b6" stroke="#e6bfa0" stroke-width="3"/>
          <ellipse cx="260" cy="110" rx="28" ry="30" fill="#f6d8b6" stroke="#e6bfa0" stroke-width="3"/>

          <!-- inner ears -->
          <ellipse cx="140" cy="112" rx="14" ry="16" fill="#ffd7cd"/>
          <ellipse cx="260" cy="112" rx="14" ry="16" fill="#ffd7cd"/>

          <!-- face -->
          <circle cx="175" cy="170" r="8" fill="#3b2f2f"/>
          <circle cx="225" cy="170" r="8" fill="#3b2f2f"/>
          <path d="M188 192 q12 12 24 0" stroke="#3b2f2f" stroke-width="4" fill="none" stroke-linecap="round"/>

          <!-- nose -->
          <ellipse cx="200" cy="182" rx="9" ry="6" fill="#3b2f2f"/>

          <!-- left arm (static) -->
          <g id="leftArm" transform="translate(120,230)">
            <path d="M0 0 q-18 40 -10 56 q26 24 58 8 q-4 -40 -12 -62 q-28 -12 -36 -2z" fill="#f6d8b6" stroke="#e6bfa0" stroke-width="3"/>
            <ellipse cx="20" cy="62" rx="20" ry="14" fill="#ffd7cd"/>
          </g>

          <!-- right arm (paw to shake) - we'll animate this group -->
          <g id="rightArm" transform="translate(290,230) rotate(0 0 0)">
            <g id="rightArmRotate" style="transform-origin:30px 20px; transition:transform 200ms linear;">
              <path d="M0 0 q18 40 10 56 q-26 24 -58 8 q4 -40 12 -62 q28 -12 36 -2z" fill="#f6d8b6" stroke="#e6bfa0" stroke-width="3"/>
              <ellipse id="paw" cx="-20" cy="62" rx="20" ry="14" fill="#ffd7cd" style="cursor:pointer;"/>
            </g>
          </g>

          <!-- belly patch -->
          <ellipse cx="200" cy="256" rx="54" ry="44" fill="#fff7ee" stroke="#f3ded0" stroke-width="3"/>

          <!-- small bow -->
          <path d="M150 200 q10 -18 24 0 q-18 -6 -24 0" fill="#ff7aa2"/>

        </g>
      </svg>

      <div class="surprise" id="surprise">
        <div style="font-weight:800; font-size:18px">Surprise!</div>
        <div class="cake" style="margin-top:8px">
          <svg viewBox="0 0 120 120" aria-hidden="true">
            <rect x="18" y="44" width="84" height="50" rx="8" fill="#ffd6d6" stroke="#ffb6c0" stroke-width="2"/>
            <rect x="30" y="30" width="60" height="24" rx="6" fill="#fff"/>
            <g transform="translate(60,18)">
              <rect x="-6" y="0" width="12" height="18" rx="3" fill="#ffcf5c"/>
              <circle cx="0" cy="-2" r="2" fill="#fff"/>
            </g>
          </svg>
          <div>
            <div style="font-weight:700">Happy Birthday!</div>
            <div style="color:var(--muted); font-size:13px">Make a wish and blow the candles üéÇ</div>
          </div>
        </div>
      </div>

    </div>

    <footer>Made by your bestfriend shadab ‚ù§Ô∏è </footer>
  </div>

  <script>
    // CONFIG: change recipient name here
    const RECIPIENT_NAME = ' Alfiya Ji';
    document.getElementById('namePlace').textContent = RECIPIENT_NAME;

    const rightArmRotate = document.getElementById('rightArmRotate');
    const paw = document.getElementById('paw');
    const shakeBtn = document.getElementById('shakeBtn');
    const playSong = document.getElementById('playSong');
    const resetBtn = document.getElementById('resetBtn');
    const bubble = document.getElementById('bubble');
    const bubbleText = document.getElementById('bubbleText');
    const surprise = document.getElementById('surprise');

    // Simple confetti (canvas)
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    let confettiPieces = [];
    function resizeCanvas(){ confettiCanvas.width = confettiCanvas.clientWidth; confettiCanvas.height = confettiCanvas.clientHeight; }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function spawnConfetti(){
      confettiPieces = [];
      const w = confettiCanvas.width; const h = confettiCanvas.height;
      for(let i=0;i<80;i++){
        confettiPieces.push({x:Math.random()*w, y:-Math.random()*h, r:Math.random()*8+4, vx:(Math.random()-0.5)*3, vy:Math.random()*3+2, rot:Math.random()*360, vr:(Math.random()-0.5)*12, col: `hsl(${Math.random()*360},80%,60%)`});
      }
      runConfetti();
    }
    let confettiRunning = false;
    function runConfetti(){
      confettiRunning = true;
      let t = 0;
      function step(){
        t++; ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
        for(const p of confettiPieces){
          p.x += p.vx; p.y += p.vy; p.vy += 0.06; p.rot += p.vr*0.02; 
          ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot*Math.PI/180);
          ctx.fillStyle = p.col; ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
          ctx.restore();
        }
        confettiPieces = confettiPieces.filter(p => p.y < confettiCanvas.height + 60);
        if(confettiPieces.length>0 && t<600){ requestAnimationFrame(step);} else { confettiRunning=false; ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);}      }
      requestAnimationFrame(step);
    }

    // play short "Happy Birthday" melody with WebAudio
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    let audioCtx;
    function playMelody(){
      if(!AudioCtx) return;
      audioCtx = new AudioCtx();
      const now = audioCtx.currentTime;
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = 'sine'; o.connect(g); g.connect(audioCtx.destination);
      g.gain.setValueAtTime(0, now);
      o.start(now);
      // notes (frequency Hz) for a short tune
      const notes = [264,264,297,264,352,330, 264,264,297,264,396,352];
      let t = now;
      for(let i=0;i<notes.length;i++){
        g.gain.linearRampToValueAtTime(0.15, t+0.01);
        o.frequency.setValueAtTime(notes[i], t);
        t += 0.28;
        g.gain.linearRampToValueAtTime(0.0001, t);
      }
      o.stop(t+0.1);
    }

    function speak(text){
      if('speechSynthesis' in window){
        const u = new SpeechSynthesisUtterance(text);
        u.rate = 0.95; u.pitch = 1.05; window.speechSynthesis.cancel(); window.speechSynthesis.speak(u);
      }
    }

    // animation: rotate the right arm group
    function animateShake(){
      rightArmRotate.style.transition = 'transform 120ms ease-in-out';
      // series of small rotates to simulate handshake
      const seq = [-28, 18, -14, 8, -6, 4, 0];
      let i=0;
      function step(){
        if(i>=seq.length) return;
        rightArmRotate.style.transform = `rotate(${seq[i]}deg)`;
        i++; setTimeout(step, 130);
      }
      step();
    }

    async function doSurprise(){
      // show bubble
      bubbleText.textContent = `Happy Birthday, ${RECIPIENT_NAME}!`;
      bubble.classList.add('show');
      surprise.classList.add('show');
      spawnConfetti();
      playMelody();
      speak(`Happy Birthday ${RECIPIENT_NAME}! I brought you a surprise.`);
    }

    // attach events
    paw.addEventListener('click', ()=>{ triggerShake(); });
    shakeBtn.addEventListener('click', ()=>{ triggerShake(); });
    playSong.addEventListener('click', ()=>{ playMelody(); });
    resetBtn.addEventListener('click', ()=>{ resetAll(); });

    function triggerShake(){
      // quick visual nudge of the whole svg to mimic handshake approach
      const svg = document.getElementById('teddy');
      svg.animate([{transform:'translateX(0)'},{transform:'translateX(-10px)'},{transform:'translateX(0)'}], {duration:360, easing:'ease-out'});
      animateShake();
      setTimeout(()=>{ doSurprise(); }, 420);
    }

    function resetAll(){
      bubble.classList.remove('show'); surprise.classList.remove('show');
      window.speechSynthesis && window.speechSynthesis.cancel();
      // stop audio context if running
      if(audioCtx && audioCtx.state !== 'closed'){
        try{ audioCtx.close(); } catch(e){}
      }
    }

    // initial greeting bubble show briefly
    setTimeout(()=>{ bubble.classList.add('show'); setTimeout(()=> bubble.classList.remove('show'), 2200); }, 800);

    // keyboard accessibility
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); triggerShake(); }
      if(e.key === 'r') resetAll();
    });

  </script>
</body>
</html>
